(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/paotuirenwu/add-or-update"],{"1e76":function(e,t,u){"use strict";(function(e){u("ab8c");n(u("66fd"));var t=n(u("2765"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=u,e(t.default)}).call(this,u("543d")["createPage"])},2765:function(e,t,u){"use strict";u.r(t);var n=u("e692"),r=u("58ce");for(var a in r)"default"!==a&&function(e){u.d(t,e,(function(){return r[e]}))}(a);u("2847");var o,i=u("f0c5"),s=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,"7fcd0b5d",null,!1,n["a"],o);t["default"]=s.exports},2847:function(e,t,u){"use strict";var n=u("85b0"),r=u.n(n);r.a},"58ce":function(e,t,u){"use strict";u.r(t);var n=u("be00"),r=u.n(n);for(var a in n)"default"!==a&&function(e){u.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},"85b0":function(e,t,u){},be00:function(e,t,u){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(u("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,u,n,r,a,o){try{var i=e[a](o),s=i.value}catch(p){return void u(p)}i.done?t(s):Promise.resolve(s).then(n,r)}function o(e){return function(){var t=this,u=arguments;return new Promise((function(n,r){var o=e.apply(t,u);function i(e){a(o,n,r,i,s,"next",e)}function s(e){a(o,n,r,i,s,"throw",e)}i(void 0)}))}}var i=function(){Promise.all([u.e("common/vendor"),u.e("components/w-picker/w-picker")]).then(function(){return resolve(u("9eb9"))}.bind(null,u)).catch(u.oe)},s={data:function(){return{cross:"",ro:{paotuirenwuUuidNumber:!0,paotuirenwuName:!1,paotuirenwuTypes:!1,paotuirenwuNewMoney:!1,paotuirenwuPhoto:!1,yonghuId:!1,paotuirenwuShouhbuoren:!1,paotuirenwuPhone:!1,paotuirenwuDizhi:!1,paotuirenwuText:!1,paotuirenwuStatusTypes:!1,createTime:!1},ruleForm:{paotuirenwuUuidNumber:this.getUUID(),paotuirenwuName:"",paotuirenwuTypes:"",paotuirenwuValue:"",paotuirenwuNewMoney:"",paotuirenwuPhoto:"",yonghuId:"",paotuirenwuShouhbuoren:"",paotuirenwuPhone:"",paotuirenwuDizhi:"",paotuirenwuText:"",paotuirenwuStatusTypes:"1",paotuirenwuStatusValue:"",createTime:""},user:{},paotuirenwuTypesOptions:[],paotuirenwuTypesIndex:0,paotuirenwuStatusTypesOptions:[],paotuirenwuStatusTypesIndex:0}},components:{wPicker:i},computed:{baseUrl:function(){return this.$base.url}},onLoad:function(e){var t=this;return o(n.default.mark((function u(){var r,a,o,i,s;return n.default.wrap((function(u){while(1)switch(u.prev=u.next){case 0:return r={page:1,limit:100,dicCode:"paotuirenwu_types"},u.next=3,t.$api.page("dictionary",r);case 3:return a=u.sent,t.paotuirenwuTypesOptions=a.data.list,o={page:1,limit:100,dicCode:"paotuirenwu_status_types"},u.next=8,t.$api.page("dictionary",o);case 8:if(i=u.sent,t.paotuirenwuStatusTypesOptions=i.data.list,!e.id){u.next=16;break}return t.ruleForm.id=e.id,u.next=14,t.$api.info("paotuirenwu",t.ruleForm.id);case 14:s=u.sent,t.ruleForm=s.data;case 16:e.paotuirenwuId&&(t.ruleForm.paotuirenwuId=e.paotuirenwuId);case 17:case"end":return u.stop()}}),u)})))()},methods:{paotuirenwuTypesChange:function(e){this.paotuirenwuTypesIndex=e.target.value,this.ruleForm.paotuirenwuValue=this.paotuirenwuTypesOptions[this.paotuirenwuTypesIndex].indexName,this.ruleForm.paotuirenwuTypes=this.paotuirenwuTypesOptions[this.paotuirenwuTypesIndex].codeIndex},paotuirenwuStatusTypesChange:function(e){this.paotuirenwuStatusTypesIndex=e.target.value,this.ruleForm.paotuirenwuStatusValue=this.paotuirenwuStatusTypesOptions[this.paotuirenwuStatusTypesIndex].indexName,this.ruleForm.paotuirenwuStatusTypes=this.paotuirenwuStatusTypesOptions[this.paotuirenwuStatusTypesIndex].codeIndex},paotuirenwuPhotoTap:function(){var e=this;this.$api.upload((function(t){e.ruleForm.paotuirenwuPhoto=e.$base.url+"upload/"+t.file,e.$forceUpdate(),e.$nextTick((function(){}))}))},createTimeConfirm:function(e){console.log(e),this.ruleForm.createTime=e.result,this.$forceUpdate()},chooseLocation:function(){var t=this;e.chooseLocation({success:function(e){t.ruleForm.paotuirenwuDizhi=e.address+e.name}})},getUUID:function(){return(new Date).getTime()},onSubmitTap:function(){var t=this;return o(n.default.mark((function u(){return n.default.wrap((function(u){while(1)switch(u.prev=u.next){case 0:if(t.ruleForm.paotuirenwuUuidNumber){u.next=3;break}return t.$utils.msg("任务编号不能为空"),u.abrupt("return");case 3:if(t.ruleForm.paotuirenwuName){u.next=6;break}return t.$utils.msg("任务标题不能为空"),u.abrupt("return");case 6:if(t.ruleForm.paotuirenwuPhoto){u.next=9;break}return t.$utils.msg("封面不能为空"),u.abrupt("return");case 9:if(t.ruleForm.paotuirenwuShouhbuoren){u.next=12;break}return t.$utils.msg("收货人不能为空"),u.abrupt("return");case 12:if(t.ruleForm.paotuirenwuPhone||t.$validate.isMobile(t.ruleForm.paotuirenwuPhone)){u.next=15;break}return t.$utils.msg("电话不能为空并且需要输入正确格式"),u.abrupt("return");case 15:if(t.ruleForm.paotuirenwuDizhi){u.next=18;break}return t.$utils.msg("地址不能为空"),u.abrupt("return");case 18:if(t.ruleForm.paotuirenwuNewMoney){u.next=21;break}return t.$utils.msg("单价不能为空"),u.abrupt("return");case 21:if(t.ruleForm.paotuirenwuText){u.next=24;break}return t.$utils.msg("备注不能为空"),u.abrupt("return");case 24:if(!t.ruleForm.id){u.next=29;break}return u.next=27,t.$api.update("paotuirenwu",t.ruleForm);case 27:u.next=31;break;case 29:return u.next=31,t.$api.save("paotuirenwu",t.ruleForm);case 31:e.setStorageSync("pingluenStateState",!0),t.$utils.msgBack("提交成功");case 33:case"end":return u.stop()}}),u)})))()},getDate:function(e){var t=new Date,u=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return"start"===e?u-=60:"end"===e&&(u+=2),n=n>9?n:"0"+n,r=r>9?r:"0"+r,"".concat(u,"-").concat(n,"-").concat(r)},toggleTab:function(e){this.$refs[e].show()}}};t.default=s}).call(this,u("543d")["default"])},e692:function(e,t,u){"use strict";u.d(t,"b",(function(){return r})),u.d(t,"c",(function(){return a})),u.d(t,"a",(function(){return n}));var n={wPicker:function(){return Promise.all([u.e("common/vendor"),u.e("components/w-picker/w-picker")]).then(u.bind(null,"9eb9"))}},r=function(){var e=this,t=e.$createElement;e._self._c},a=[]}},[["1e76","common/runtime","common/vendor"]]]);